<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
    <th:block layout:fragment="link">
        <link rel="stylesheet" th:href="@{/css/hospital.css}">
    </th:block>
</head>

<section layout:fragment="content" class="hospital-container">
    <h2>동물병원 예약</h2>
    <p class="desc">반려동물을 위한 진료 예약을 간단하게 진행할 수 있습니다.</p>

    <!-- 새로 추가된 예약확인하기 버튼 -->
    <div class="reservation-check">
        <a th:href="@{/hospital/list}" class="btn-outline">예약확인하기</a>
    </div>
    
    <form id="reservationForm" th:action="@{/hospital/reserve}" method="post" class="hospital-form">
    	<!-- 에러 표시 
	    <div th:replace="~{form_errors :: formErrorsFragment}"></div> -->
	     
        <div class="form-group">
            <label for="ownername">보호자 이름</label>
            <input type="text" id="ownername" name="ownername" placeholder="이름을 입력하세요" required>
        </div>

        <div class="form-group">
            <label for="petname">반려동물 이름</label>
            <input type="text" id="petname" name="petname" placeholder="반려동물의 이름을 입력하세요" required>
        </div>        

        <div class="form-group">
            <label for="resdate">예약일</label>
            <input type="date" id="resdate" name="resdate" required>
        </div>
        
        <div class="form-group">
            <label for="restime">예약 시간</label>
            <select id="restime" name="restime" required>
                <option value="">선택하세요</option>
                <option value="9">09:00</option>
                <option value="11">11:00</option>
                <option value="14">14:00</option>
                <option value="16">16:00</option>
            </select>
        </div>        

        <div class="form-group">
            <label for="symptom">증상 설명</label>
            <textarea id="symptom" name="symptom" rows="4" placeholder="증상을 간단히 적어주세요"></textarea>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn-primary">예약하기</button>
            <a th:href="@{/}" class="btn-secondary">취소</a>
        </div>
    </form>
     
</section>

<script layout:fragment="script" type='text/javascript'>
// 예약 가능 날짜..
const today = new Date().toISOString().split('T')[0];
document.getElementById('resdate').setAttribute('min', today);

	// 현재 날짜 구하기..?
//	let now = new Date();
//	let today = now.toISOString().split('T');
//	document.getElementById('date').setAttribute('min', today);

	// 예약..?
//    document.getElementById("reservationForm").addEventListener("submit", function(e){
//        if(!confirm("예약을 진행하시겠습니까?")) {
//            e.preventDefault();
//        }
//    });
</script>
</html>
